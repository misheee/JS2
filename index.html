<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
<div id="app">
    <header>
        <div class="cart">
            <search></search>
            <!-- <form action="#" class="search-form" @submit.prevent="filter">
                <input type="text" class="search-field" v-model="userSearch">
                <button type="submit" class="btn-search">
                        <i class="fa fa-search fa-lg"></i>
                </button>
            </form> -->
            <button class="cart_link" type="button" @click="showCart = !showCart">
                <svg class="svg_cart" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="24">
                <path d="M14.995,2.999 L13.496,2.999 C13.496,1.342 11.483,-0.002 8.999,-0.002 C6.514,-0.002 4.501,1.342 4.501,2.999 L3.002,2.999 C1.346,2.999 0.003,4.341 0.003,5.997 L0.003,20.995 C0.003,22.651 1.346,23.994 3.002,23.994 L14.995,23.994 C16.652,23.994 17.994,22.651 17.994,20.995 L17.994,5.997 C17.994,4.341 16.652,2.999 14.995,2.999 ZM8.999,1.498 C10.655,1.498 11.997,1.962 11.997,2.999 L6.000,2.999 C6.000,1.962 7.343,1.498 8.999,1.498 ZM16.495,20.995 C16.495,21.823 15.824,22.494 14.995,22.494 L3.002,22.494 C2.174,22.494 1.502,21.823 1.502,20.995 L1.502,19.495 L16.495,19.495 L16.495,20.995 ZM16.495,17.995 L1.502,17.995 L1.502,5.997 C1.502,5.169 2.174,4.497 3.002,4.497 L4.501,4.497 L4.501,8.998 L6.000,8.998 L6.000,4.497 L11.997,4.497 L11.997,8.998 L13.496,8.998 L13.496,4.497 L14.995,4.497 C15.824,4.497 16.495,5.169 16.495,5.997 L16.495,17.995 Z"></path>
                </svg>
                <p class="cart-text">Корзина</p>
            </button>
            <div class="active-cart cart-item" v-show="showCart">
                <p v-if="!cartItems.length">Корзина пуста</p>
                <div class="active-cart__item-body" v-for="item of cartItems" :key="item.id_product">
                        <img :src="imgCart" alt="Image" class="active-cart__item-img">
                        <div class="item-body__text">
                            <h3 class="active-cart__cart-title">{{ item.product_name }}</h3>
                                <div class="product-quantity">Количество: {{ item.quantity }}</div>
                            <p class="active-cart__cart-price">$ {{ item.price }} за шт</p>
                            <p class="active-cart__cart-price">Всего: $ {{item.quantity*item.price}}</p>
                        </div>
                        <div class="delete-button">
                            <button class="delete" @click="remove(item)">&#128465</button>
                        </div>                   
                </div>
            </div>

            <!-- <div class="active-cart invisible"> -->
                <!--         <div class="active-cart__cart-item">
                            <div class="active-cart__item-body">
                                <img src="notebook.jpg" alt="Notebook" class="active-cart__item-img">
                                <div class="item-body__text">
                                    <h3 class="active-cart__cart-title">Ноутбук</h3>
                                    <p class="active-cart__cart-price">45600</p>
                                </div>
                            </div>
                            <div class="delete-button">
                                <button class="delete">&#128465;</button>
                            </div>
                        </div>
                        <div class="active-cart__cart-item">
                            <div class="active-cart__item-body">
                                <img src="notebook.jpg" alt="Notebook" class="active-cart__item-img">
                                <div class="item-body__text">
                                    <h3 class="active-cart__cart-title">Ноутбук</h3>
                                    <p class="active-cart__cart-price">45600</p>
                                </div>
                            </div>
                            <div class="delete-button">
                                <button class="delete">&#128465;</button>
                            </div> -->
    </header> 
    <div class="main">
        <div class="item_card" v-for="product of filtered" :visibility="showCart" :key="product.id_product">
            <div class="item_img"><img class="item_image" :src="imgProduct"></div>
            <h3 class="item_name">{{product.product_name}}</h3>
            <p class="item_price">{{product.price}}</p>
            <button class="item_button" @click="addProduct(product)">В корзину</button>
        </div>
</div>
<script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="searchComp.js"></script>
<script src="main.js"></script>
</body>
</html>